{"ast":null,"code":"var _jsxFileName = \"D:\\\\Universit\\xE0\\\\Applicazione_web_e_mobile\\\\AnimalWars\\\\app\\\\frontend\\\\src\\\\Pages\\\\Login\\\\Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { login } from '../../Utils/Common';\nimport { Button, Form, FormGroup, Card, Container } from 'react-bootstrap';\nimport './Login.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleLogin = event => {\n      event.preventDefault();\n      axios.post('http://192.168.1.165:8000/users/rest-auth/login/', {\n        email: this.state.email,\n        password: this.state.password\n      }).then(response => {\n        axios.get('http://192.168.1.165:8000/users/rest-auth/user/', {\n          headers: {\n            \"Authorization\": 'Token ' + response.data.key\n          }\n        }).then(data => {\n          login(response.data.key, data.data);\n          console.log(data.data);\n          this.props.history.push('/home');\n        });\n      }).catch(error => {});\n    };\n\n    this.handleRegister = () => {\n      this.props.history.push('/register');\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login-App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-login z-depth-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      variant: \"secondary\",\n      onClick: this.handleRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, \"Register\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/UniversitÃ /Applicazione_web_e_mobile/AnimalWars/app/frontend/src/Pages/Login/Login.js"],"names":["React","axios","login","Button","Form","FormGroup","Card","Container","Login","Component","constructor","props","handleEmailChange","event","setState","email","target","value","handlePasswordChange","password","handleLogin","preventDefault","post","state","then","response","get","headers","data","key","console","log","history","push","catch","error","handleRegister","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { login } from '../../Utils/Common';\r\nimport { Button, Form, FormGroup, Card, Container } from 'react-bootstrap';\r\nimport './Login.css'\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: '', password: '' };\r\n  }\r\n\r\n  handleEmailChange = event => {this.setState({ email: event.target.value })}\r\n  handlePasswordChange = event => {this.setState({ password: event.target.value })}\r\n\r\n  handleLogin = (event) => {\r\n    event.preventDefault();\r\n    axios.post('http://192.168.1.165:8000/users/rest-auth/login/', { email: this.state.email, password: this.state.password }).then(response => {\r\n      axios.get('http://192.168.1.165:8000/users/rest-auth/user/', {headers: {\"Authorization\": 'Token ' + response.data.key}} ).then(data => {\r\n        login(response.data.key, data.data)\r\n        console.log(data.data)\r\n        this.props.history.push('/home');\r\n      })\r\n    }).catch(error => {\r\n      \r\n    });\r\n  }\r\n\r\n  handleRegister = () => {\r\n    this.props.history.push('/register');\r\n  }\r\n    \r\n  render(){\r\n    return (\r\n      <div className=\"Login-App\">\r\n        <Card className=\"card-login z-depth-5\">\r\n          <Card.Body>\r\n          <Form onSubmit={this.handleLogin}>\r\n            <Form.Group controlId=\"formBasicEmail\" onChange={this.handleEmailChange} >\r\n              <Form.Label>Email address</Form.Label>\r\n              <Form.Control type=\"email\" name=\"email\" placeholder=\"Enter email\" />\r\n              <Form.Text className=\"text-muted\">\r\n                We'll never share your email with anyone else.\r\n              </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formBasicPassword\" onChange={this.handlePasswordChange}>\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n            </Form.Group>\r\n            <FormGroup>\r\n              <Button block bsSize=\"large\" variant=\"primary\" type=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Button block bsSize=\"large\" variant=\"secondary\" onClick={this.handleRegister}>\r\n                Register\r\n              </Button>\r\n            </FormGroup>\r\n          </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}