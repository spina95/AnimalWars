{"ast":null,"code":"var _jsxFileName = \"D:\\\\Universit\\xE0\\\\Applicazione_web_e_mobile\\\\AnimalWars\\\\app\\\\frontend\\\\src\\\\Pages\\\\Vote\\\\Vote.js\";\nimport React, { Fragment } from 'react';\nimport NavBar from '../../Components/Navbar';\nimport axios from 'axios';\nimport { Image, ListGroup, Container, Card, Row, Col } from 'react-bootstrap';\nimport API from \"../../Utils/API\";\nimport './Vote.css';\n\nclass Vote extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.vote = index => {\n      var winner_id = 0;\n      var loser_id = 0;\n\n      if (index == 0) {\n        winner_id = this.state.images[0].id;\n        loser_id = this.state.images[1].id;\n      } else {\n        winner_id = this.state.images[1].id;\n        loser_id = this.state.images[0].id;\n      }\n\n      this.setState({\n        isLoading: true\n      });\n      API.vote(winner_id, loser_id).then(response => {\n        this.loadImage();\n      });\n    };\n\n    this.state = {\n      images: null,\n      user1: null,\n      user2: null,\n      isLoading: true\n    };\n  }\n\n  loadImage() {\n    API.randomImages().then(value => {\n      var userRequests = [];\n      userRequests.push(API.getImageUser(value[0].user));\n      userRequests.push(API.getImageUser(value[1].user));\n      axios.all(userRequests).then(axios.spread((...responses) => {\n        this.setState({\n          images: value,\n          user1: responses[0],\n          user2: responses[1],\n          isLoading: false\n        });\n      }));\n    });\n  }\n\n  async componentDidMount() {\n    this.loadImage();\n  }\n\n  render() {\n    if (this.state.isLoading == false) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NavBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App-home-page \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        className: \"App-home-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          paddingTop: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        style: {\n          fontSize: 28\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, this.state.images[0].name, \"    vs    \", this.state.images[1].name)), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          paddingTop: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        className: \"vote-image\",\n        src: this.state.images[0].image,\n        onClick: this.vote(0),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Image, {\n        className: \"vote-image\",\n        src: this.state.images[1].image,\n        onClick: this.vote(0),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      })))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 16\n      }\n    }, \"Loading\");\n  }\n\n}\n\nexport default Vote;","map":{"version":3,"sources":["D:/UniversitÃ /Applicazione_web_e_mobile/AnimalWars/app/frontend/src/Pages/Vote/Vote.js"],"names":["React","Fragment","NavBar","axios","Image","ListGroup","Container","Card","Row","Col","API","Vote","Component","constructor","props","vote","index","winner_id","loser_id","state","images","id","setState","isLoading","then","response","loadImage","user1","user2","randomImages","value","userRequests","push","getImageUser","user","all","spread","responses","componentDidMount","render","display","alignItems","justifyContent","paddingTop","fontSize","name","image"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\r\nimport NavBar  from '../../Components/Navbar'\r\nimport axios from 'axios'\r\nimport {Image, ListGroup, Container, Card, Row, Col }  from 'react-bootstrap'\r\nimport API from \"../../Utils/API\";\r\nimport './Vote.css'\r\nclass Vote extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            images: null,\r\n            user1: null,\r\n            user2: null,\r\n            isLoading: true,\r\n        }\r\n    }\r\n\r\n    loadImage() {\r\n        API.randomImages().then(value => {\r\n            var userRequests = []\r\n            userRequests.push(API.getImageUser(value[0].user))\r\n            userRequests.push(API.getImageUser(value[1].user))\r\n            axios.all(userRequests).then(axios.spread((...responses) => {\r\n                this.setState({\r\n                    images: value,\r\n                    user1: responses[0],\r\n                    user2: responses[1],\r\n                    isLoading: false\r\n                })\r\n            }))\r\n        })\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.loadImage()\r\n    }\r\n\r\n    vote = (index) => {\r\n        var winner_id = 0\r\n        var loser_id = 0\r\n        if(index == 0){\r\n            winner_id = this.state.images[0].id;\r\n            loser_id = this.state.images[1].id;\r\n        } else {\r\n            winner_id = this.state.images[1].id;\r\n            loser_id = this.state.images[0].id;\r\n        }\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n        API.vote(winner_id, loser_id).then(response => {\r\n            this.loadImage()\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(this.state.isLoading == false){\r\n            return (\r\n                <Fragment>\r\n                    <NavBar/>\r\n                    <div className=\"App-home-page \">\r\n                    <Container className=\"App-home-container\">\r\n                        <Row style={{display: 'flex', alignItems: 'center', justifyContent: 'center', paddingTop: \"30px\"}}> \r\n                            <b style={{fontSize:28}}>{this.state.images[0].name}    vs    {this.state.images[1].name}</b>\r\n                        </Row>\r\n                        <Row style={{display: 'flex', alignItems: 'center', justifyContent: 'center', paddingTop: \"30px\"}}>\r\n                            <Image className=\"vote-image\" src={this.state.images[0].image} onClick={this.vote(0)}/>\r\n                            <Image className=\"vote-image\" src={this.state.images[1].image} onClick={this.vote(0)}/>\r\n                        </Row>\r\n                    </Container>\r\n                    </div>\r\n                </Fragment>\r\n            )\r\n        }\r\n        return <div>Loading</div>\r\n    }\r\n}\r\nexport default Vote;"]},"metadata":{},"sourceType":"module"}