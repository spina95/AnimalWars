{"ast":null,"code":"var _jsxFileName = \"D:\\\\Universit\\xE0\\\\Applicazione_web_e_mobile\\\\AnimalWars\\\\app\\\\frontend\\\\src\\\\Pages\\\\Login\\\\Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Button, Form, FormGroup, Card, Container } from 'react-bootstrap';\nimport { login, saveToken } from '../../Utils/Authentication';\nimport './Login.css';\nimport APIService from '../../Utils/API';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleLogin = event => {\n      event.preventDefault();\n      console.log(this.state.email);\n      APIService.login(this.state.email, this.state.password).then(response => {\n        console.log(response);\n        saveToken(response.key);\n        APIService.getUserData().then(data => {\n          console.log(data);\n          login(data);\n          this.props.history.push('/home');\n        });\n      }).catch(error => {\n        console.log(\"errore\");\n        this.setState({\n          error: 'Check the fields are correct'\n        });\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      error: ''\n    };\n  }\n\n  handleRegister() {\n    this.props.history.push('/register');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login-App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-login z-depth-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      style: {\n        width: \"100%\"\n      },\n      onClick: () => this.handleRegister(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, this.state.error)))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/UniversitÃ /Applicazione_web_e_mobile/AnimalWars/app/frontend/src/Pages/Login/Login.js"],"names":["React","axios","Button","Form","FormGroup","Card","Container","login","saveToken","APIService","Login","Component","constructor","props","handleEmailChange","event","setState","email","target","value","handlePasswordChange","password","handleLogin","preventDefault","console","log","state","then","response","key","getUserData","data","history","push","catch","error","handleRegister","render","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Form, FormGroup, Card, Container } from 'react-bootstrap';\r\nimport {login, saveToken} from '../../Utils/Authentication'\r\nimport './Login.css'\r\nimport APIService from '../../Utils/API';\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      email: '', \r\n      password: '',\r\n      error: ''\r\n    };\r\n  }\r\n\r\n  handleEmailChange = event => {this.setState({ email: event.target.value })}\r\n  handlePasswordChange = event => {this.setState({ password: event.target.value })}\r\n\r\n  handleLogin = (event) => {\r\n    event.preventDefault();\r\n    console.log(this.state.email)\r\n    APIService.login(this.state.email, this.state.password).then(response => {\r\n      console.log(response);\r\n      saveToken(response.key)\r\n      APIService.getUserData().then(data => {\r\n        console.log(data)\r\n        login(data)\r\n        this.props.history.push('/home');\r\n      })\r\n    }).catch(error => {\r\n      console.log(\"errore\")\r\n      this.setState({\r\n        error: 'Check the fields are correct'\r\n      })\r\n    });\r\n  }\r\n\r\n  handleRegister(){\r\n    this.props.history.push('/register');\r\n  }\r\n    \r\n  render(){\r\n    return (\r\n      <div className=\"Login-App\">\r\n        <Card className=\"card-login z-depth-5\">\r\n          <Card.Body>\r\n          <Form onSubmit={this.handleLogin}>\r\n              <Form.Group controlId=\"formBasicEmail\" onChange={this.handleEmailChange}>\r\n                <Form.Label>Email address</Form.Label>\r\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"formBasicPassword\" onChange={this.handlePasswordChange}>\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\" style={{width:\"100%\"}}>\r\n                  Login\r\n                </Button>\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Button variant=\"secondary\" style={{width:\"100%\"}} onClick={() => this.handleRegister()}>\r\n                  Register\r\n                </Button>\r\n              </Form.Group>\r\n\r\n              <p>{this.state.error}</p>\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}