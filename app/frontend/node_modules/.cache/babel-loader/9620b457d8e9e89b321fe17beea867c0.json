{"ast":null,"code":"import request from './Request';\nconst TOKEN_KEY = 'jwt';\nconst APIService = {\n  register(firstname, lastname, email, password1, password2, file) {\n    // Register\n    let formdata = new FormData();\n    formdata.append('first_name', firstname);\n    formdata.append('last_name', lastname);\n    formdata.append('email', email);\n    formdata.append('password1', password1);\n    formdata.append('password2', password2);\n    if (file) formdata.append('profilepicture', file, file.name);\n    return request({\n      url: '/users/rest-auth/registration/',\n      method: 'POST',\n      headers: {\n        'content-type': 'multipart/form-data'\n      },\n      data: formdata\n    });\n  },\n\n  logout() {\n    // Logout\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/users/rest-auth/logout/',\n      method: 'POST',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getUserData() {\n    // Return current user data\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/users/rest-auth/user/',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getImageInfo(image_id) {\n    // Return data of an image\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/images/' + image_id,\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getHighestScoreImages() {\n    // Return images with higher score\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/higherscore',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getLowerScoreImages() {\n    // Return images with higher score\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/lowerscore',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getnewestImages() {\n    // Return images with higher score\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/newestImages',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getImageUser(user_id) {\n    // Return user data \n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/users/' + user_id,\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  getUserImages(user_id) {\n    // Return images of an user\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/profileimages',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      },\n      params: {\n        profile_id: user_id\n      }\n    });\n  },\n\n  searchTags(search, searchMode) {\n    // Search images with tags\n    const token = localStorage.getItem(TOKEN_KEY);\n    var list = search.split(' ');\n    list.pop();\n    console.log(list);\n    var params = new URLSearchParams();\n    var mode = searchMode == 0 ? \"descending\" : searchMode == 1 ? \"ascending\" : \"newest\";\n    params.append(\"order\", mode);\n    list.forEach(element => {\n      params.append(\"tag\", element);\n    });\n    return request({\n      url: '/images/searchTag',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      },\n      params: params\n    });\n  },\n\n  imageTags(image_id) {\n    // Return tags of an image\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/imageTags',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      },\n      params: {\n        image_id: image_id\n      }\n    });\n  },\n\n  randomImages() {\n    // Return two random images\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/randomImages',\n      method: 'GET',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      }\n    });\n  },\n\n  vote(winner_id, loser_id) {\n    // Return two random images\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/vote',\n      method: 'POST',\n      headers: {\n        \"Authorization\": 'Token ' + token\n      },\n      params: {\n        'winner_id': winner_id,\n        'loser_id': loser_id\n      }\n    });\n  },\n\n  postImage(image, title, user_id) {\n    // Post image\n    let fd = new FormData();\n    fd.append('image', image.file);\n    fd.append('name', title);\n    fd.append('user', user_id);\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/images',\n      method: 'POST',\n      headers: {\n        \"Authorization\": 'Token ' + token,\n        'Content-Type': 'multipart/form-data'\n      },\n      data: fd\n    });\n  },\n\n  removeImage(image_id) {\n    const token = localStorage.getItem(TOKEN_KEY);\n    return request({\n      url: '/images/images/' + image_id,\n      method: 'DELETE',\n      headers: {\n        \"Authorization\": 'Token ' + token,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n\n  postTag(tag, image_id) {\n    // Post tag\n    const token = localStorage.getItem(TOKEN_KEY);\n    let fd = new FormData();\n    fd.append('name', tag);\n    fd.append('image', image_id);\n    return request({\n      url: '/images/tags',\n      method: 'POST',\n      headers: {\n        \"Authorization\": 'Token ' + token,\n        'Content-Type': 'multipart/form-data'\n      },\n      data: fd\n    });\n  }\n\n};\nexport default APIService;","map":{"version":3,"sources":["D:/Universit√†/Applicazione_web_e_mobile/AnimalWars/app/frontend/src/Utils/API.js"],"names":["request","TOKEN_KEY","APIService","register","firstname","lastname","email","password1","password2","file","formdata","FormData","append","name","url","method","headers","data","logout","token","localStorage","getItem","getUserData","getImageInfo","image_id","getHighestScoreImages","getLowerScoreImages","getnewestImages","getImageUser","user_id","getUserImages","params","profile_id","searchTags","search","searchMode","list","split","pop","console","log","URLSearchParams","mode","forEach","element","imageTags","randomImages","vote","winner_id","loser_id","postImage","image","title","fd","removeImage","postTag","tag"],"mappings":"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","sourcesContent":["import request from './Request'\r\n\r\nconst TOKEN_KEY = 'jwt';\r\n\r\nconst APIService = {\r\n\r\n  register(firstname, lastname, email, password1, password2, file) {\r\n    // Register\r\n    let formdata = new FormData()\r\n    formdata.append('first_name', firstname)\r\n    formdata.append('last_name', lastname)\r\n    formdata.append('email', email)\r\n    formdata.append('password1', password1)\r\n    formdata.append('password2', password2)\r\n    if(file)\r\n      formdata.append('profilepicture', file, file.name);\r\n    return request({\r\n      url: '/users/rest-auth/registration/',\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'multipart/form-data'\r\n      },\r\n      data: formdata\r\n    });\r\n  }, \r\n\r\n  logout() {\r\n    // Logout\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/users/rest-auth/logout/',\r\n      method: 'POST',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n    });\r\n  }, \r\n\r\n  getUserData() {\r\n    // Return current user data\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/users/rest-auth/user/',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token}\r\n    });\r\n  }, \r\n\r\n  getImageInfo(image_id) {\r\n    // Return data of an image\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/images/' + image_id,\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n    });\r\n  }, \r\n\r\n  getHighestScoreImages() {\r\n    // Return images with higher score\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/higherscore',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token}\r\n    });\r\n  }, \r\n\r\n  getLowerScoreImages() {\r\n    // Return images with higher score\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/lowerscore',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token}\r\n    });\r\n  }, \r\n\r\n  getnewestImages() {\r\n    // Return images with higher score\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/newestImages',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token}\r\n    });\r\n  }, \r\n\r\n  getImageUser(user_id) {\r\n    // Return user data \r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/users/' + user_id,\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n    });\r\n  }, \r\n\r\n  getUserImages(user_id) {\r\n    // Return images of an user\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/profileimages',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n      params: {profile_id: user_id},\r\n    });\r\n  }, \r\n\r\n  searchTags(search, searchMode) {\r\n    // Search images with tags\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    var list = search.split(' ');\r\n    list.pop()\r\n    console.log(list)\r\n    var params = new URLSearchParams();\r\n    var mode = searchMode == 0 ? \"descending\" : searchMode == 1 ? \"ascending\" : \"newest\"\r\n    params.append(\"order\", mode)\r\n    list.forEach(element => {\r\n      params.append(\"tag\", element)\r\n    });\r\n    \r\n    return request({\r\n      url: '/images/searchTag',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n      params: params\r\n    });\r\n  }, \r\n\r\n  imageTags(image_id) {\r\n    // Return tags of an image\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/imageTags',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n      params: {image_id: image_id},\r\n    });\r\n  }, \r\n\r\n  randomImages() {\r\n    // Return two random images\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/randomImages',\r\n      method: 'GET',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n    });\r\n  }, \r\n\r\n  vote(winner_id, loser_id) {\r\n    // Return two random images\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/vote',\r\n      method: 'POST',\r\n      headers: {\"Authorization\": 'Token ' + token},\r\n      params: {'winner_id': winner_id, 'loser_id': loser_id}\r\n    });\r\n  }, \r\n\r\n  postImage(image, title, user_id) {\r\n    // Post image\r\n    let fd= new FormData()\r\n    fd.append('image', image.file)\r\n    fd.append('name', title)\r\n    fd.append('user', user_id)\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/images',\r\n      method: 'POST',\r\n      headers: {\"Authorization\": 'Token ' + token, 'Content-Type': 'multipart/form-data',},\r\n      data: fd\r\n    });\r\n  }, \r\n\r\n  removeImage(image_id) {\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    return request({\r\n      url: '/images/images/' + image_id,\r\n      method: 'DELETE',\r\n      headers: {\"Authorization\": 'Token ' + token, 'Content-Type': 'multipart/form-data',},\r\n    });\r\n  },\r\n\r\n  postTag(tag, image_id) {\r\n    // Post tag\r\n    const token = localStorage.getItem(TOKEN_KEY)\r\n    let fd= new FormData()\r\n    fd.append('name', tag)\r\n    fd.append('image', image_id)\r\n    return request({\r\n      url: '/images/tags',\r\n      method: 'POST',\r\n      headers: {\"Authorization\": 'Token ' + token, 'Content-Type': 'multipart/form-data',},\r\n      data: fd\r\n    });\r\n  }, \r\n\r\n}\r\n\r\nexport default APIService;"]},"metadata":{},"sourceType":"module"}